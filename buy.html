<!DOCTYPE html>
<html class="wide wow-animation" lang="en">
  <head>
    <title>ChangeVerve Change Management</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width height=device-height initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="js/3ts2ksMwXvKRuG480KNifJ2_JNM.js"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,600,700,800,900%7CBaloo">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/style.css">
    <style>.ie-panel{display: none;background: #212121;padding: 10px 0;box-shadow: 3px 3px 5px 0 rgba(0,0,0,.3);clear: both;text-align:center;position: relative;z-index: 1;} html.ie-10 .ie-panel, html.lt-ie-10 .ie-panel {display: block;}</style>
  </head>
  <body>
    <div class="ie-panel">
      <a href="http://windows.microsoft.com/en-US/internet-explorer/">
        <img src="images/warning_bar_0000_us.jpg" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today."></a></div>
    <div class="preloader">
      <div class="preloader-inner">
        <div class="preloader-top">
          <div class="preloader-top-sun">
            <div class="preloader-top-sun-bg"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-0"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-45"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-90"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-135"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-180"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-225"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-270"></div>
            <div class="preloader-top-sun-line preloader-top-sun-line-315"></div>
          </div>
        </div>
        <div class="preloader-bottom">
          <div class="preloader-bottom-line preloader-bottom-line-lg"></div>
          <div class="preloader-bottom-line preloader-bottom-line-md"></div>
          <div class="preloader-bottom-line preloader-bottom-line-sm"></div>
          <div class="preloader-bottom-line preloader-bottom-line-xs"></div>
        </div>
      </div>
    </div>
    <div class="page">
      <!-- Page Header-->
      <header class="section page-header page-header-1 context-dark">
        <div class="page-header-1-figure m-parallax">
          <div class="page-header-1-image m-parallax-image" style="background-image: url(images/bg-image-4.jpg);"></div>
        </div>
        <!-- RD Navbar-->
        <div class="rd-navbar-wrap">
          <nav class="rd-navbar rd-navbar-classic" data-layout="rd-navbar-fixed" data-sm-layout="rd-navbar-fixed" data-md-layout="rd-navbar-fixed" data-md-device-layout="rd-navbar-fixed" data-lg-layout="rd-navbar-static" data-lg-device-layout="rd-navbar-fixed" data-xl-layout="rd-navbar-static" data-xl-device-layout="rd-navbar-static" data-lg-stick-up-offset="1px" data-xl-stick-up-offset="1px" data-xxl-stick-up-offset="1px" data-lg-stick-up="true" data-xl-stick-up="true" data-xxl-stick-up="true">
            <div class="rd-navbar-main-outer">
              <div class="rd-navbar-main">
                <!-- RD Navbar Panel-->
                <div class="rd-navbar-panel">
                  <!-- RD Navbar Toggle-->
                  <button class="rd-navbar-toggle" data-rd-navbar-toggle=".rd-navbar-nav-wrap"><span></span></button>
                  <!-- RD Navbar Brand-->
<!--                  <div class="rd-navbar-brand"><a class="brand" href="index.html"><img class="brand-logo-dark" src="fonts/logo-default-110x39.svg" alt width="110" height="39"><img class="brand-logo-light" src="fonts/logo-inverse-110x39.svg" alt width="110" height="39"></a>-->
                  <div class="rd-navbar-brand"><a class="brand" href="/">
                    <img class="brand-logo-dark" src="images/Retina-Logo-removebg-preview.png" alt width="110" height="39">
<!--                    <img class="brand-logo-light" src="fonts/logo-inverse-110x39.svg" alt width="110" height="39"></a>-->
                    <img class="brand-logo-light" src="images/Retina-Logo-removebg-preview.png" alt width="110" height="39"></a>
                  </div>
                </div>
              
                <div class="rd-navbar-collapse-outer context-light">
                  <!-- <button class="rd-navbar-collapse-toggle" data-multitoggle="#rd-navbar-collapse, #toggle-inner"><span class="rd-navbar-collapse-toggle-element" id="toggle-inner"><span></span></span><span class="rd-navbar-collapse-toggle-text">Menu</span></button> -->
                  <div class="rd-navbar-collapse" id="rd-navbar-collapse">
                    <button class="rd-navbar-collapse-close" data-multitoggle="#rd-navbar-collapse"><span class="rd-navbar-collapse-toggle-element active"><span></span></span></button>
                    <h4 class="fw-sbold">Our Office</h4>
                    <h5 class="ls-1">9 Valley St. Brooklyn, NY 11203</h5>
                    <h5 class="ls-1"><a href="tel:#">1-800-346-6277</a></h5>
                    <div class="divider divider-small"></div>
                    <h4 class="fw-sbold">Our Courses</h4>
                    <!-- Owl Carousel-->
                    <div class="owl-carousel owl-carousel-tour-minimal" data-items="1" data-dots="true" data-nav="false" data-auto-width="true" data-loop="true" data-margin="0" data-autoplay="true" data-mouse-drag="false">
                      <div class="owl-item-inner">
                        <article class="tour-minimal context-dark">/l
                          <div class="tour-minimal-inner img-overlay" style="background-image: url(images/home-3-2-258x273.jpg);">
                            <div class="tour-minimal-header">
                            </div>
                            <div class="tour-minimal-main">
                              <h3 class="tour-minimal-title fw-sbold"><a href="english-for-business.html">ChangeVerve Online Change <br/>
                                                                                                          Management Game</a></h3>
                              <div class="tour-minimal-pricing">
                                <p class="tour-minimal-price tour-minimal-price-new">$25</p>
                              </div>
                              <p class="tour-minimal-comment">Price per lesson</p>
                            </div>
                            <div class="tour-minimal-caption">
                              <p>Our best English course for starter level.</p>
                            </div>
                          </div>
                        </article>
                      </div>
                      <div class="owl-item-inner">
                        <article class="tour-minimal context-dark">
                          <div class="tour-minimal-inner img-overlay" style="background-image: url(images/home-3-3-258x273.jpg);">
                            <div class="tour-minimal-header">
                            </div>
                            <div class="tour-minimal-main">
                              <h3 class="tour-minimal-title fw-sbold"><a href="english-for-business.html">Online Learning</a></h3>
                              <div class="tour-minimal-pricing">
                                <p class="tour-minimal-price tour-minimal-price-new">$35</p>
                              </div>
                              <p class="tour-minimal-comment">Price per lesson</p>
                            </div>
                            <div class="tour-minimal-caption">
                              <p>Perfect if you prefer distance education.</p>
                            </div>
                          </div>
                        </article>
                      </div>
                      <div class="owl-item-inner">
                        <article class="tour-minimal context-dark">
                          <div class="tour-minimal-inner img-overlay" style="background-image: url(images/home-3-4-258x273.jpg);">
                            <div class="tour-minimal-header">
                            </div>
                            <div class="tour-minimal-main">
                              <h3 class="tour-minimal-title fw-sbold"><a href="/">
                                ChangeVerve Online Change <br/>
                                Management Game</a></h3>
                              <div class="tour-minimal-pricing">
                                <p class="tour-minimal-price tour-minimal-price-new">$40</p>
                              </div>
                              <p class="tour-minimal-comment">Price per lesson</p>
                            </div>
                            <div class="tour-minimal-caption">
                              <p>Business English course designed for managers.</p>
                            </div>
                          </div>
                        </article>
                      </div>
                      <div class="owl-item-inner">
                        <article class="tour-minimal context-dark">
                          <div class="tour-minimal-inner img-overlay" style="background-image: url(images/home-3-5-258x273.jpg);">
                            <div class="tour-minimal-header">
                            </div>
                            <div class="tour-minimal-main">
                              <h3 class="tour-minimal-title fw-sbold"><a href="english-for-business.html">English for Kids</a></h3>
                              <div class="tour-minimal-pricing">
                                <p class="tour-minimal-price tour-minimal-price-new">$17</p>
                              </div>
                              <p class="tour-minimal-comment">Price per lesson</p>
                            </div>
                            <div class="tour-minimal-caption">
                              <p>Easy-to-learn English course for children.</p>
                            </div>
                          </div>
                        </article>
                      </div>
                    </div><a class="button button-default-outline" href="contact-us.html">Get in Touch</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="rd-navbar-placeholder"></div>
          </nav>
        </div>
        <section class="breadcrumbs-custom">
          <div class="breadcrumbs-custom-inner">
            <div class="container">
              <div class="breadcrumbs-custom-main m-parallax-content">
<!--                <svg class="breadcrumbs-custom-line" width="70" height="8" viewBox="0 0 70 8" fill="none">-->
<!--                  <path d="M0 1C5 1 5 7 9.92 7C14.84 7 14.92 1 19.85 1C24.78 1 24.85 7 29.77 7C34.69 7 34.77 1 39.71 1C44.65 1 44.71 7 49.63 7C54.55 7 54.63 1 59.57 1C64.51 1 64.57 7 69.5 7" stroke-width="1.98" stroke-miterlimit="10"/>-->
<!--                </svg>-->
                <h2 class="breadcrumbs-custom-title text-uppercase">
                  ChangeVerve Online Change 
                  <br/> Management Game </h2>
                <!-- <div class="group group-sm group-middle"><a class="button button-sm button-icon button-icon-left button-light" data-lightgallery="item" href="https://www.youtube.com/watch?v=dk9uNWPP7EA"><span class="icon mdi mdi-play"></span>presentation</a></div> -->
              </div>
            </div>
          </div>
        </section>
      </header>

      <section class="section section-lg bg-gray-100">
        <div class="container">
          <div class="row row-50 justify-content-center">
            <div class="col-md-10 col-lg-7 col-xl-6">
              <div class="row row-30">
                <div class="col-sm-12">
                  <!-- Profile Classic-->

                  <article class="box-4">

                    <div class="box-4-inner">
<!--                      <h3>Buy Now</h3>-->

                      <br/>
                      <div class="product-info">
                        <!-- Product image -->
                        <div class="product-image">
                          <img src="images/buy_now_image.png" alt="Product Image">
                        </div>

                        <br/>
                        <!-- Product details -->
                        <div class="product-name">
                          <h4 id="form-1-product">Change Management Game</h4>
                        </div>


                        <div class="product-options">
                          <!-- Quantity field -->
<!--                          <div class="quantity">-->
<!--                            <label for="quantity">Qty:</label>-->
<!--                            <input type="number" id="quantity" name="quantity" min="1" max="99" value="1">-->
<!--                          </div>-->
                        </div>

                        <div class="purchase-options">
                          <!-- Buy Now button -->
<!--                          <button id="buy-now" class="button button-lg button-primary button-block" type="button">Buy Now</button>-->

                          <!-- Add to Cart button -->
                          <!--                            <button class="button button-lg button-block" type="submit">Add to Cart</button>-->
                        </div>
                      </div>
                    </div>


                  </article>


                  <!--                  <article class="profile-classic"><img class="profile-classic-image" src="images/our-team-1-272x197.jpg" alt="" width="272" height="197">-->
<!--                    <div class="profile-classic-main">-->
<!--                      <p class="heading-5 profile-classic-position">Spanish Teacher</p>-->
<!--                      <p class="profile-classic-name heading-4">Amanda Peterson</p>-->
<!--                      <div class="profile-classic-unit">-->
<!--                        <div class="icon mdi mdi-phone"></div><a class="heading-6" href="tel:#">1-800-366-77-89</a>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </article>-->
                </div>
              </div>
            </div>
            <div class="col-md-10 col-lg-5 col-xl-6">
              <!-- Box 2-->
              <article class="box-2">
                <div class="box-2-inner">
                  <h4>Payment Information</h4>
                  <!-- RD Mailform-->
                  <form class="rd-form rd-mailform form-lg"
                        data-form-output="form-output-global"
                        data-form-type="contact"
                        method="post"
                        action="/api/v1/sales/form/process"
                        onsubmit="event.preventDefault(); onSubmit();">

                    <div class="form-wrap form-wrap-icon">
                      <input class="form-input form-control-has-validation" id="contact-name"
                             type="text" name="name" data-constraints="@Required">
                      <span class="form-validation"></span>
                      <label class="form-label rd-input-label" for="contact-name">Full Name</label>
                      <div class="icon form-icon mdi mdi-account-outline"></div>
                    </div>

                    <div class="form-wrap form-wrap-icon">
                      <input class="form-input form-control-has-validation" id="contact-email" type="email"
                             name="email" required data-constraints="@Email @Required"><span class="form-validation"></span>
                      <label class="form-label rd-input-label" for="contact-email">E-mail</label>
                      <div class="icon form-icon mdi mdi-email-outline"></div>
                    </div>

                    <div class="form-wrap form-wrap-icon">
                      <input class="form-input form-control-has-validation" id="contact-phone" type="text" name="phone" data-constraints="@PhoneNumber"><span class="form-validation"></span>
                      <label class="form-label rd-input-label" for="contact-phone">Phone</label>
                      <div class="icon form-icon mdi mdi-phone"></div>
                    </div>

                    <div class="form-wrap form-wrap-icon">
                      <input class="form-input form-control-has-validation" id="company" type="text" name="company" data-constraints="@Company name">
                      <span class="form-validation"></span>
                      <label class="form-label rd-input-label" for="company">Company</label>
                      <div class="icon form-icon mdi mdi:company"></div>
                    </div>

                    <div class="form-wrap form-wrap-icon">
                      <input class="form-input form-control-has-validation" id="registration_code" type="text" name="company" data-constraints="@Company name"
                             placeholder="Registration code - not required">
                      <span class="form-validation"></span>
<!--                      <label class="form-label rd-input-label" for="company">Registration Code</label>-->
                      <div class="icon form-icon mdi mdi:code"></div>
                    </div>


                    <input type="hidden" name="quantity" id="quantity" value="1" />

                    <div class="form-wrap form-wrap-button text-center">
                      <button class="button button-lg button-primary" type="submit">Make Payment</button>
                    </div>
                  </form>
                </div>
              </article>
            </div>
          </div>
        </div>
      </section>
      <!-- Page Footer-->
      <footer class="section footer-classic footer-classic-md">
        <div class="container mt-0">
          <div class="divider-2"></div>
        </div>
        <div class="footer-classic-aside">
          <div class="container">
            <p class="rights">
              <span>&copy;&nbsp; </span>
              <span class="copyright-year"></span>
              <span>&nbsp;</span>
              <span>ChangeVerve</span><span>. All rights reserved.&nbsp;</span><span>.</span>
            </p>
          </div>
        </div>
      </footer>
    </div>
    <div class="snackbars" id="form-output-global"></div>
    <script src="js/core.min.js"></script>
    <script src="js/script.js"></script>

    <script type="text/javascript">

      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
          let cookies = document.cookie.split(';');
          for (let i = 0; i < cookies.length; i++) {
            let cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
              break;
            }
          }
        }
        return cookieValue;
      }

      window.onload = function() {
        // Function to get the query parameter
        function getQueryParam(name, defaultValue) {
          var params = new URLSearchParams(window.location.search);
          return params.get(name) || defaultValue;
        }

        var quantity = getQueryParam('quantity', '1');

        var quantityInput = document.querySelector('input[name="quantity"]');
        quantityInput.value = quantity;
      }

      function isValidEmail(email) {
        // More robust email validation
        var pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return pattern.test(email);
      }

      function isValidPhone(phone) {
        // Let's say we want 10-digit US numbers only for simplicity
        var pattern = /^\d{10}$/;
        return pattern.test(phone);
      }

      function displayError(message) {
        // Production applications would probably use a custom, styled div
        // or some sort of modal or toast notification system
        alert(message);
      }

      function onSubmit() {
        var name = document.getElementById('contact-name').value;
        var email = document.getElementById('contact-email').value;
        var phone = document.getElementById('contact-phone').value;
        var company = document.getElementById('company').value;
        var quantity = document.getElementById('quantity').value;

        // More robust input validation
        if (!name) {
          displayError("Name must be filled out");
          return false;
        }

        if (!email) {
          displayError("Email must be filled out");
          return false;
        }

        if (!isValidEmail(email)) {
          displayError("Please enter a valid email address");
          return false;
        }

        if (!phone) {
          displayError("Phone must be filled out");
          return false;
        }

        if (!isValidPhone(phone)) {
          displayError("Please enter a valid 10-digit phone number");
          return false;
        }

        if (!company) {
          displayError("Company must be filled out");
          return false;
        }

        // Get reference to submit button and disable it
        var submitButton = document.querySelector('.form-wrap-button button');
        submitButton.disabled = true;
        submitButton.textContent = 'Loading...';

        startCounter()
        // If all the input fields are valid, send the fetch request
        // fetch('http://localhost:5001/api/v1/sales/form/process', {
        fetch('https://backend.changeverveacademy.com/api/v1/sales/form/process', {
          method: 'POST',
          credentials: 'include', // include cookies with the request
          headers: {
            'Content-Type': 'application/json',
            // include the CSRF token in a custom HTTP header
            'X-XSRF-TOKEN': getCookie('XSRF-TOKEN') // function to read the 'XSRF-TOKEN' cookie
          },
          body: JSON.stringify({
            name,
            email,
            company,
            phone,
            quantity
          })
        })
                .then(response => response.json())
                .then(data => {
                  setTimeout(() => {
                    window.location.href = data.url;
                  },2000);
                  // Redirect to the returned URL
                  console.log(data);
                })
                .catch(error => {
                  console.error('Error:', error);
                })
                .finally(() => {
                  // Re-enable the submit button and restore its text
                  submitButton.disabled = false;
                  submitButton.textContent = 'Make Payment';
                });
      }

      let counter = 60;
      let intervalId = null;

      function startCounter() {
        // Get the button element
        const button = document.querySelector('.form-wrap-button button');

        // Disable the button and change the text
        button.disabled = true;
        button.textContent = `Wait ${counter} seconds`;

        // Start the counter
        intervalId = setInterval(() => {
          counter--;
          button.textContent = `Wait ${counter} seconds`;

          // If the counter has reached 0, enable the button and stop the counter
          if (counter === 0) {
            clearInterval(intervalId);
            button.textContent = 'Make Payment';
            button.disabled = false;
          }
        }, 1000);
      }

      // Attach the startCounter function to the button's click event
      // document.querySelector('.form-wrap-button button').addEventListener('click', startCounter);

    </script>

  </body>
</html>